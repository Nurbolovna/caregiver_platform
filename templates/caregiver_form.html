{% extends "base.html" %}

{% block title %}{% if caregiver %}Edit Caregiver{% else %}Create Caregiver{% endif %} - Online Caregivers Platform{% endblock %}

{% block content %}
<h1>{% if caregiver %}Edit Caregiver{% else %}Create New Caregiver{% endif %}</h1>

<form method="POST" class="mt-4">
    <div class="mb-3">
        <label for="caregiver_user_id" class="form-label">User *</label>
        <select class="form-select" id="caregiver_user_id" name="caregiver_user_id" {% if caregiver %}disabled{% else %}required{% endif %}>
            {% if not caregiver %}
                <option value="">Select a user</option>
            {% endif %}
            {% for user in users %}
                <option value="{{ user.user_id }}" {% if caregiver and caregiver.caregiver_user_id == user.user_id %}selected{% endif %}>
                    {{ user.user_id }} - {{ user.given_name }} {{ user.surname }} ({{ user.email }})
                </option>
            {% endfor %}
        </select>
        {% if caregiver %}
            <input type="hidden" name="caregiver_user_id" value="{{ caregiver.caregiver_user_id }}">
        {% endif %}
    </div>
    
    <div class="mb-3">
        <label for="photo" class="form-label">Photo URL</label>
        <input type="text" class="form-control" id="photo" name="photo" value="{{ caregiver.photo if caregiver else '' }}">
    </div>
    
    <div class="mb-3">
        <label for="gender" class="form-label">Gender</label>
        <select class="form-select" id="gender" name="gender">
            <option value="">Select gender (optional)</option>
            <option value="M" {% if caregiver and caregiver.gender == 'M' %}selected{% endif %}>Male (M)</option>
            <option value="F" {% if caregiver and caregiver.gender == 'F' %}selected{% endif %}>Female (F)</option>
            <option value="O" {% if caregiver and caregiver.gender == 'O' %}selected{% endif %}>Other (O)</option>
        </select>
    </div>
    
    <div class="mb-3">
        <label for="caregiving_type" class="form-label">Caregiving Type *</label>
        <select class="form-select" id="caregiving_type" name="caregiving_type" required>
            <option value="">Select caregiving type</option>
            <option value="Babysitter" {% if caregiver and caregiver.caregiving_type == 'Babysitter' %}selected{% endif %}>Babysitter</option>
            <option value="Elderly Care" {% if caregiver and caregiver.caregiving_type == 'Elderly Care' %}selected{% endif %}>Elderly Care</option>
            <option value="Playmate" {% if caregiver and caregiver.caregiving_type == 'Playmate' %}selected{% endif %}>Playmate</option>
        </select>
    </div>
    
    <div class="mb-3">
        <label for="hourly_rate" class="form-label">Hourly Rate</label>
        <input type="number" step="0.01" class="form-control" id="hourly_rate" name="hourly_rate" value="{{ caregiver.hourly_rate if caregiver and caregiver.hourly_rate else '' }}">
    </div>
    
    <button type="submit" class="btn btn-primary">{% if caregiver %}Update{% else %}Create{% endif %} Caregiver</button>
    <a href="{{ url_for('caregiver_list') }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}